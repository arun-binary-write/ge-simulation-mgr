<?xml version="1.0" encoding="utf-8" ?>
<rules xmlns="http://schemas.microsoft.com/practices/2011/entlib/autoscaling/rules">
	<constraintRules>
		<rule name="worker role instance" rank="1" enabled="true">
			<actions>
				<range target="MockService.Worker" min="1" max="10"/>
			</actions>
		</rule>
	</constraintRules>	
	<reactiveRules>			
		<rule name="add worker role instance" rank="1" enabled="true">
			<when>
				<greater than="2" operand ="poolqueue" />
			</when>
		</rule>
		<actions>
			<scale  target="MockService.Worker" by="1"  />
		</actions>
	</reactiveRules>
	<operands>
		<queueLength aggregate="Average" alias="poolqueue" queue="poolqueue" timespan="00:02:00" />
	</operands>
</rules>